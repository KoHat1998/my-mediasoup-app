<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Broadcast â€¢ Livenix</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <link rel="stylesheet" href="/style.css" />
  <link rel="icon" href="/favicon.ico" />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <a href="/lives.html" class="brand" aria-label="Go to lives">
      <img src="/assets/livenix.svg" alt="" style="height:20px;margin-right:8px;vertical-align:middle;display:inline-block" onerror="this.style.display='none'">
      Livenix
    </a>
    <div class="actions" style="margin-left:auto; display:flex; align-items:center; gap:10px;">
      <button id="endBtn" class="btn ghost danger" aria-label="End stream">End Stream</button>
      <button id="signout" class="btn" aria-label="Sign out">Sign out</button>
    </div>
  </header>

  <!-- Main -->
  <main class="main">
    <section class="card" style="max-width:960px;margin:0 auto;padding:16px;">
      <h2 style="margin-top:0;font-size:1.4rem;">Broadcast Console</h2>

      <!-- Live status -->
      <div class="badges" style="margin:12px 0; display:flex; gap:8px; flex-wrap:wrap;">
        <span id="liveBadge" class="badge">OFFLINE</span>
        <span id="uptime" class="badge">00:00:00</span>
        <span id="viewers" class="badge">ðŸ‘€ 0</span>
      </div>

      <!-- Preview -->
      <div id="skel" class="skel" style="margin:12px 0; display:none;"></div>
      <video id="preview" class="video" autoplay muted playsinline style="display:block; width:100%; border-radius:12px; background:#000;"></video>

      <!-- Toolbar -->
      <div class="toolbar" style="margin-top:16px;flex-wrap:wrap; display:flex; gap:10px;">
        <button id="btnStart" class="btn primary">Go Live (Camera)</button>
        <button id="btnScreen" class="btn">Share Screen</button>
        <button id="btnCam" class="btn ghost">Disable Cam</button>
        <button id="btnMic" class="btn ghost">Mute Mic</button>
        <button id="btnFlip" class="btn">Flip Camera</button>
        <button id="btnEnd" class="btn ghost danger">End Live</button>
        <select id="cameraSelect" class="btn" style="display:none; max-width:260px;"></select>
        <span class="right small" id="status">Idle</span>
      </div>

      <p class="small" style="margin-top:12px;opacity:.8;text-align:center">
        Logged in as <span id="who"></span>
      </p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <small>Â© 2025 Livenix</small>
    <nav style="display:flex; gap:14px;">
      <a href="#">Terms</a>
      <a href="#">Privacy</a>
      <a href="#">Contact</a>
    </nav>
  </footer>

  <div id="toast" class="toast"></div>

  <!-- Socket.IO runtime -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Broadcaster logic -->
  <script type="module" src="/broadcast.js"></script>
</body>
</html>