<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Watch â€¢ KoHat Live</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="header">
    <a href="/" class="brand">ðŸŽ¥ KoHat Live</a>
    <div class="actions">
      <a class="btn big" href="/login">Start Broadcasting</a>
      <a class="btn big ghost" href="/viewer.html">Watch Live</a>
    </div>
  </header>

  <main class="main">
    <section class="card">
      <h2 style="margin-top:0">Viewer</h2>

      <!-- channel picker -->
      <div class="controls" style="justify-content:center; gap:12px; margin-bottom:10px; flex-wrap:wrap">
        <a class="btn" href="/viewer.html?ch=b1">Broadcaster 1</a>
        <a class="btn" href="/viewer.html?ch=b2">Broadcaster 2</a>
      </div>

      <!-- player wrapper goes fullscreen (not the <video>) -->
      <div class="player" id="player">
        <!-- top-left badges (always visible) -->
        <div class="overlay top-left">
          <span id="live" class="badge">Checkingâ€¦</span>
          <span id="vc" class="badge">ðŸ‘€ 0</span>
        </div>

        <!-- top-right: quality dropdown + fullscreen (keeps showing in container fullscreen) -->
        <div class="overlay top-right">
          <label class="icon-wrap" title="Quality">
            <svg viewBox="0 0 24 24" class="icon"><path d="M12 8a4 4 0 100 8 4 4 0 000-8zm8.94 3.34l-1.22-.71.11-1.41-1.37-2.37-1.41.11-.71-1.22L13.66 3h-3.32l-.68 1.24-1.41-.11-1.37 2.37.11 1.41-1.22.71L3 10.34v3.32l1.24.68-.11 1.41 1.37 2.37 1.41-.11.68 1.24 2.37 1.37h3.32l.71-1.22 1.41.11 1.37-2.37-.11-1.41 1.22-.71L21 13.66v-3.32z"/></svg>
            <select id="qualitySel" class="ytselect">
              <option value="auto">Auto</option>
              <option value="high">High</option>
              <option value="med">Medium</option>
              <option value="low">Low</option>
            </select>
          </label>

          <button id="fs" class="icon-btn" title="Fullscreen">
            <svg viewBox="0 0 24 24" class="icon"><path d="M7 14H5v5h5v-2H7v-3zm12 0h-2v3h-3v2h5v-5zM7 7h3V5H5v5h2V7zm12 3V5h-5v2h3v3h2z"/></svg>
          </button>
        </div>

        <!-- Native browser controls; hide native fullscreen button (we fullscreen the container) -->
        <video
          id="remote"
          autoplay
          playsinline
          controls
          controlslist="nodownload noplaybackrate noremoteplayback nofullscreen"
          disablepictureinpicture
          disableremoteplayback
        ></video>
      </div>

      <!-- loading skeleton (shown while connecting) -->
      <div id="skel" class="skel" style="margin:12px auto 0;"></div>

      <!-- small readouts under the player -->
      <div class="badges" style="justify-content:center">
        <span id="res" class="badge">â€“</span>
        <span id="quality" class="badge">â€“</span>
      </div>

      <p id="status" style="margin-top:8px; opacity:.85; text-align:center"></p>
    </section>
  </main>

  <footer class="footer">
    <small>Â© 2025 KoHat Live</small>
    <nav>
      <a href="#">Terms</a>
      <a href="#">Privacy</a>
      <a href="#">Contact</a>
    </nav>
  </footer>

  <div id="toast" class="toast"></div>

  <script src="/socket.io/socket.io.js"></script>
  <script type="module" src="/viewer.js"></script>
</body>
</html>
